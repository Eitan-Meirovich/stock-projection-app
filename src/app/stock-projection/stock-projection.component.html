<div class="container">
  <h1>Proyección de Stock</h1>

  <div class="controls">
    <label for="superFamilyFilter">Super Familia:</label>
    <select id="superFamilyFilter" #superFamilyFilter (change)="filterData('Super Familia', superFamilyFilter.value)">
      <option *ngFor="let item of superFamilies || []" [value]="item">{{ item || 'N/A' }}</option>
    </select>
    
    <label for="familyFilter">Familia:</label>
    <select id="familyFilter" #familyFilter (change)="filterData('Familia', familyFilter.value)">
      <option *ngFor="let item of families || []" [value]="item">{{ item || 'N/A' }}</option>
    </select>
    
    <label for="productFilter">Código Producto:</label>
    <select id="productFilter" #productFilter (change)="filterData('Codigo Producto', productFilter.value)">
      <option *ngFor="let item of productCodes || []" [value]="item">{{ item || 'N/A' }}</option>
    </select>

    <button class="btn btn-primary" (click)="runProjection()">Ejecutar Proyección</button>
  </div>

  <div *ngIf="resultsVisible" class="results">
    <h2>Resultados</h2>
    <table class="table">
      <thead>
        <tr>
          <th>Mes</th>
          <th>Proyección</th>
          <th>Flujo de Stock</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let result of tableData || []">
          <td>{{ result['Mes'] }}</td>
          <td>{{ result['Proyección'] }}</td>
          <td>{{ result['Flujo de Stock'] }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>